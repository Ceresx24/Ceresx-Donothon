<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Donothon Dashboard</title>
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-database-compat.js"></script>
<style>body{background:#111;color:#fff;font-family:Arial;padding:20px;}</style></head><body>
<h1>DONOTHON DASHBOARD</h1>
<div id="login">Password: <input type="password" id="pw"><button onclick="login()">Enter</button></div>
<div id="main" style="display:none;">
  <h2>Live Timer: <span id="timer">00:00:00</span></h2>
  <button onclick="ref.update({startTime:Date.now(),paused:false})">START</button>
  <button onclick="togglePause()">PAUSE/RESUME</button>
  <button onclick="ref.set({startTime:null,bonusSeconds:0,totalEarned:0,subsCount:0})" style="background:red">RESET ALL</button>
  <hr>
  <h3>Add Manual</h3>
  Minutes: <input id="min"><button onclick="addMinutes()">Add</button> |
  Money: <input id="money"><button onclick="addMoney()">Add $</button>
  <hr>
  <h3>Colors</h3>
  Accent <input type="color" id="ac" value="#9146FF">
  Background <input type="color" id="bg" value="#000000"> Opacity <input type="range" id="op" min="0" max="100" value="80">
  <button onclick="saveColors()">SAVE COLORS</button>
</div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyBFQFPo85fIpaHWl3Kr0PZ6WIm5B6WVusA",
  authDomain: "ceres-donothon-timer.firebaseapp.com",
  databaseURL: "https://ceres-donothon-timer-default-rtdb.firebaseio.com",
  projectId: "ceres-donothon-timer",
  storageBucket: "ceres-donothon-timer.firebasestorage.app",
  messagingSenderId: "62539165670",
  appId: "1:62539165670:web:170c8110449deba628b027",
  measurementId: "G-9F66NMVB2J"
};
const PATH = 'donothon-ultimate-2025-x7k9p2m4q8z3v6n1';
const PASSWORDS = ['Rin125', '125', 'Rinmod125']; // â† ADD YOUR PASSWORDS HERE

firebase.initializeApp(firebaseConfig);
const ref = firebase.database().ref(PATH);

function login(){if(PASSWORDS.includes(document.getElementById('pw').value)){document.getElementById('main').style.display='block';document.getElementById('login').style.display='none';}}
function addMinutes(){ref.child('bonusSeconds').transaction(v=>(v||0)+60*parseInt(document.getElementById('min').value||0));}
function addMoney(){ref.transaction(d=>{d.totalEarned+=parseFloat(document.getElementById('money').value||0);return d;});}
function saveColors(){
  const op = document.getElementById('op').value/100;
  const bg = document.getElementById('bg').value;
  ref.child('theme').set({
    accent: document.getElementById('ac').value,
    bg: `rgba(${parseInt(bg.slice(1,3),16)},${parseInt(bg.slice(3,5),16)},${parseInt(bg.slice(5,7),16)},${op})`
  });
}
function togglePause(){
  ref.once('value').then(s=>{
    const d=s.val();
    if(d.paused){
      const elapsed = d.pausedAtSeconds||0;
      ref.update({startTime:Date.now()-(elapsed*1000),paused:false,pausedAtSeconds:null});
    }else{
      const elapsed = Math.floor((Date.now()-d.startTime)/1000)+(d.bonusSeconds||0);
      ref.update({paused:true,pausedAtSeconds:elapsed});
    }
  });
}
setInterval(()=>$t=document.getElementById('timer'),ref.once('value').then(s=>{const d=s.val()||{};let sec=d.paused?(d.pausedAtSeconds||0):d.startTime?Math.floor((Date.now()-d.startTime)/1000)+(d.bonusSeconds||0):0;
  $t.textContent=`${String(Math.floor(sec/3600)).padStart(2,'0')}:${String(Math.floor(sec%3600/60)).padStart(2,'0')}:${String(sec%60).padStart(2,'0')}`;}),1000);
</script>
</body></html>
